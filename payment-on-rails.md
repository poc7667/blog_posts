---
title: payment-on-rails
date: 2016-07-21 10:37:32
tags:
---


[智富寶串接 ](https://cweb.pay2go.com/)

簡單的流程是 我們這邊準備好 金額、商品描述、啟用哪些付款方式 之類的，然後通過 form post 的方式丟 request ( 我之前的做法是有一個假頁面，上面只顯示正在跳轉到付款網頁，然後就把 form post 出去 ) ，之後就是他們的頁面了，處理完了之後有幾個參數可以指定 , notify url 是他們背景呼叫我們的，我們可以在這裡去更新訂單的支付狀態， return url / custom url ( 根據不同的付款方式而不同 ) 是在前端跳轉回我們自己的頁面的 url ， 兩種 url 都是 post 過來的
至於有哪些參數就直接看文檔嘍，不算太複雜
不過對於非即時的付款方式(例如 ATM 轉賬，用戶在頁面上操作完只是得到一個轉賬賬號) 我也還沒有搞懂他們是怎麼回傳狀態的，上次請 James 幫忙問，也沒有結果